// সেকশন দেখানোর লজিক - অপরিবর্তিত
function showSection(sectionId) {
    document.querySelectorAll('.section-content').forEach(section => {
        section.classList.add('hidden');
    });
    document.querySelectorAll('.option-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.getElementById(sectionId).classList.remove('hidden');
    document.getElementById(sectionId === 'emergencySection' ? 'emergencyBtn' : 'aiChatBtn').classList.add('active');
}

document.addEventListener('DOMContentLoaded', () => {
    showSection('emergencySection');
});


// গফরগাঁও সম্পর্কিত স্মার্ট AI লজিক
const gafargaon_data = {
    // ---- মৌলিক তথ্য ----
    "ইতিহাস": "গফরগাঁও নামটি মুঘল আমলের কোনো কর্মকর্তা বা গাজীর নাম থেকে এসেছে বলে ধারণা করা হয়। এটি একটি প্রাচীন ও ঐতিহ্যবাহী জনপদ।",
    "উপজেলা": "গফরগাঁও বাংলাদেশের ময়মনসিংহ জেলার একটি গুরুত্বপূর্ণ প্রশাসনিক উপজেলা। এর পশ্চিমে ব্রহ্মপুত্র নদের তীরবর্তী।",
    "নদী": "ঐতিহাসিক ব্রহ্মপুত্র নদ গফরগাঁও এর পাশ দিয়ে প্রবাহিত হয়েছে। এটি এখানকার জীবনযাত্রা ও কৃষিতে গুরুত্বপূর্ণ ভূমিকা রাখে।",
    "আয়তন": "গফরগাঁও উপজেলার মোট আয়তন প্রায় ৪৩০ বর্গ কিলোমিটার।",
    "জনসংখ্যা": "সর্বশেষ তথ্য অনুযায়ী, গফরগাঁও উপজেলার জনসংখ্যা প্রায় ৪.৫ লক্ষাধিক (অনুমানিত)।",

    // ---- শিক্ষা প্রতিষ্ঠান ----
    "স্কুল": "গফরগাঁওয়ে ঐতিহ্যবাহী **ইসলামিয়া উচ্চ বিদ্যালয় (১৮৮০ সালে স্থাপিত)** এবং কান্দিপাড়া আসকার আলী উচ্চ বিদ্যালয় সহ একাধিক নামকরা শিক্ষা প্রতিষ্ঠান রয়েছে।",
    "বিদ্যালয়": "এখানকার সরকারি শিক্ষা প্রতিষ্ঠানগুলোর মধ্যে গফরগাঁও সরকারি কলেজ, গফরগাঁও ইসলামিয়া সরকারি উচ্চ বিদ্যালয় এবং সরকারি প্রাথমিক বিদ্যালয়সমূহ উল্লেখযোগ্য।",
    "কলেজ": "গফরগাঁও সরকারি কলেজ এই অঞ্চলের প্রধান উচ্চ শিক্ষা প্রতিষ্ঠান। এছাড়া গফরগাঁও মহিলা ডিগ্রি কলেজও রয়েছে।",
    "সরকারি": "সরকারি শিক্ষা প্রতিষ্ঠানগুলোর মধ্যে গফরগাঁও সরকারি কলেজ ও গফরগাঁও ইসলামিয়া সরকারি উচ্চ বিদ্যালয় প্রধান। এছাড়া বেশ কিছু সরকারি প্রাথমিক বিদ্যালয় রয়েছে।",

    // ---- জরুরী সেবা ও যোগাযোগ ----
    "থানা": "গফরগাঁও থানা জরুরি সেবার জন্য প্রধান কেন্দ্র। আপনি সরাসরি **৯৯৯** এ ফোন করে সাহায্য চাইতে পারেন।",
    "থানার নাম্বার": "গফরগাঁও থানার যোগাযোগ নম্বর: **০১৩xxxxxxxx**। তবে যেকোনো জরুরি প্রয়োজনে **৯৯৯** ব্যবহার করা ভালো।",
    "হাসপাতাল": "গফরগাঁও উপজেলা স্বাস্থ্য কমপ্লেক্স এখানকার প্রধান সরকারি চিকিৎসা কেন্দ্র। ফোন নম্বর: **০১৭xxxxxxxx**।",
    "এম্বুলেন্স": "জরুরী অ্যাম্বুলেন্স সেবার জন্য উপজেলা স্বাস্থ্য কমপ্লেক্সে যোগাযোগ করুন অথবা **৯৯৯** এ কল করুন। এছাড়া স্থানীয় কিছু বেসরকারি অ্যাম্বুলেন্স সেবাও পাওয়া যায়।",
    "ফায়ার সার্ভিস": "গফরগাঁও ফায়ার সার্ভিস ও সিভিল ডিফেন্সের জন্য জরুরি নম্বর **৯৯৯**।",
    "রক্ত": "এলাকায় বেশ কিছু স্বেচ্ছাসেবী রক্তদান সংস্থা রয়েছে। স্থানীয় রক্তদাতা গ্রুপ খুঁজে তাদের সাথে যোগাযোগ করতে পারেন।",
    
    // ---- স্থান ও পরিচিতি ----
    "ভালো জায়গা": "গফরগাঁওয়ে ঘোরার জন্য ব্রহ্মপুত্র নদের তীর, স্থানীয় বাজার, এবং ঐতিহাসিক ইসলামিয়া উচ্চ বিদ্যালয় ভবনটি দেখতে পারেন।",
    "দর্শনীয় স্থান": "ব্রহ্মপুত্র নদের পাড় ছাড়াও ঐতিহাসিক পাঁচবাগ ও দীঘা ইউনিয়নের মঠ এবং স্থানীয় কিছু পুরনো মসজিদ উল্লেখযোগ্য।",
    "বাজার": "গফরগাঁও পৌরসভা বাজার এবং রেলওয়ে স্টেশন সংলগ্ন বাজারটি অন্যতম বৃহৎ বাজার এবং বাণিজ্যিক কেন্দ্র।",
    "ট্রেন": "গফরগাঁও রেলওয়ে স্টেশন একটি গুরুত্বপূর্ণ স্টেশন। ঢাকা এবং ময়মনসিংহের সাথে এটির ভালো রেল যোগাযোগ রয়েছে।",
    "ইউনিয়ন": "গফরগাঁও উপজেলায় মোট ১৫টি ইউনিয়ন রয়েছে। যেমন: বারবাড়িয়া, যশরা, সালটিয়া, টাংগাব ইত্যাদি।",
    
    // ---- AI সম্পর্কিত ব্যক্তিগত ও প্রফেশনাল প্রশ্ন ----
    "তোমাকে কে তৈরি করেছে": "এই প্রজেক্টটি (ASK FOR GAFARGAON) তৈরি করেছেন **Iftekhar Ahmed Nayeem**। আমি তাঁর নির্দেশনায় গফরগাঁওয়ের মানুষকে সহজে তথ্য দেওয়ার জন্য নির্মিত হয়েছি।",
    "তুমি কি": "আমি গফরগাঁও সম্পর্কিত তথ্য প্রদানের জন্য তৈরি করা একটি স্মার্ট তথ্য সহায়ক (AI)। আমি একটি কম্পিউটার প্রোগ্রাম, মানুষ নই।",
    "নাম": "আমার কোনো নাম নেই, আমি শুধু **'গফরগাঁও AI'** হিসেবে পরিচিত।",
    "কেমন আছো": "আমি একটি কম্পিউটার প্রোগ্রাম, তাই ভালো বা খারাপ থাকার অনুভূতি নেই। আপনার সেবা দেওয়ার জন্য আমি প্রস্তুত।",
    "ধন্যবাদ": "আপনাকেও অসংখ্য ধন্যবাদ! গফরগাঁও সম্পর্কে আরও কিছু জানতে হলে জিজ্ঞাসা করতে পারেন।" // --- এখান থেকে নতুন ডেটা (বিস্তারিত_তথ্য) শুরু ---
  "বিস্তারিত_তথ্য": [
    // --- শিক্ষাপ্রতিষ্ঠান সংক্রান্ত তথ্য ---
    
      "প্রশ্ন": "গফরগাঁওয়ে মেয়েদের জন্য উল্লেখযোগ্য শিক্ষা প্রতিষ্ঠান কি কি?",
      "উত্তর": "খায়রুল্লাহ উচ্চ বিদ্যালয় (উচ্চ বিদ্যালয় হলেও মেয়েদের জন্য ভালো ফলাফল করে) এবং গফরগাঁও মহিলা কলেজ।"
    
    
      "প্রশ্ন": "গফরগাঁওয়ে শুধু ছেলেদের জন্য একটি উল্লেখযোগ্য উচ্চ বিদ্যালয়ের নাম কী?",
      "উত্তর": "ইসলামিয়া সরকারি উচ্চ বিদ্যালয়।"
    
    
      "প্রশ্ন": "গফরগাঁওয়ে সহশিক্ষামূলক (ছেলে ও মেয়ে উভয়ের জন্য) একটি উল্লেখযোগ্য উচ্চ বিদ্যালয়ের নাম কী?",
      "উত্তর": "গুলন্তাজ উচ্চ বিদ্যালয়।"
    
    
      "প্রশ্ন": "গফরগাঁওয়ে বর্তমানে নতুন কোনো বিনোদন কেন্দ্র তৈরি হচ্ছে কি?",
      "উত্তর": "হ্যাঁ, গফরগাঁওয়ে ঘোরার জন্য নতুন একটি ওয়াটার পার্ক তৈরি হচ্ছে।"
    
    // --- খাবার এবং স্থানীয় ঐতিহ্য সংক্রান্ত তথ্য ---
    
      "প্রশ্ন": "শীতকালে গফরগাঁওয়ের কোন খাবারটি অত্যন্ত জনপ্রিয় এবং কোথায় পাওয়া যায়?",
      "উত্তর": "প্রতি বছর শীতে বাজারে চিতই পিঠা তৈরি হয়, যা সকলে খুব মজা করে খায়।"
    
    
      "প্রশ্ন": "গফরগাঁও কি 'ডাকাতের এলাকা' হিসেবে পরিচিত? এর স্থানীয় মানুষেরা কেমন?",
      "উত্তর": "না, 'ডাকাতের এলাকা' কথাটি ঠিক নয়। এখানকার মানুষ অত্যন্ত আন্তরিক এবং ভালো। তারা একে অপরের বিপদে সংঘবদ্ধ হয়ে দাঁড়ায় এবং কারো ক্ষতি করে না।"
    
    
      "প্রশ্ন": "গফরগাঁওয়ের সেরা ফাস্টফুড/রেস্টুরেন্ট কোনটি এবং এটি কোথায় অবস্থিত?",
      "উত্তর": "মহিলা কলেজের পাশে অবস্থিত 'ফুড এক্সপ্রেস ২২৩০' ফাস্টফুড এবং রেস্টুরেন্টগুলোর মধ্যে সেরা খাবার সরবরাহ করে।"
    
    
      "প্রশ্ন": "গফরগাঁওয়ের কয়েকটি ঐতিহ্যবাহী হোটেলের নাম কী?",
      "উত্তর": "টাঙ্গাইল হোটেল, রাজলক্ষ্মী হোটেল এবং আরো অনেক ভালো ভালো হোটেল রয়েছে।"
    
    
      "প্রশ্ন": "গফরগাঁওয়ের সেরা পিৎজা (Pizza) কোন রেস্টুরেন্টে পাওয়া যায়?",
      "উত্তর": "'কলাপাতা রেস্টুরেন্ট'-এ গফরগাঁওয়ের সেরা পিৎজা পাওয়া যায়।"
    
    
    
      "প্রশ্ন": "গফরগাঁওয়ের একটি পুরনো জমিদার বাড়ি কোথায় অবস্থিত?",
      "উত্তর": "একটি পুরনো জমিদার বাড়ি কাচারির সাথে অবস্থিত।"
    
    
      "প্রশ্ন": "গফরগাঁওয়ের কয়েকটি উল্লেখযোগ্য মার্কেটের নাম কী?",
      "উত্তর": "আল মার্কেট, জামতলা মোড়, গোলন্দাজ মার্কেট এবং আরো অনেক মার্কেট রয়েছে।"
    
    
      "প্রশ্ন": "গফরগাঁওয়ের প্রধান দুটি মুসলিম উৎসব কী এবং সেসময় মানুষ কোথায় ভিড় করে?",
      "উত্তর": "প্রধান দুটি উৎসব হল ঈদুল ফিতর এবং ঈদুল আযহা। এই উৎসবে গফরগাঁও ব্রিজে অসংখ্য মানুষ ঘুরতে আসে।"
    
    
    
      "প্রশ্ন": "গফরগাঁও সরকারি কলেজের বর্তমান অধ্যক্ষের নাম কী?",
      "উত্তর": "প্রফেসর আবু ইউসুফ মোঃ শহিদুল্লাহ।"
    
    
      "প্রশ্ন": "গফরগাঁও সরকারি কলেজের বাংলা বিভাগের শিক্ষকদের নাম ও পদবী কী?",
      "উত্তর": "জনাব মোঃ কামাল উদ্দিন (সহযোগী অধ্যাপক), জনাব শাহিনুল হক শাহিন (সহকারী অধ্যাপক), জনাব আনিসুর রহমান (প্রভাষক), জনাবা সানজিদা সুলতানা (প্রভাষক), জনাব সাদিকুর রহমান (প্রভাষক)।"
    
    
      "প্রশ্ন": "গফরগাঁও সরকারি কলেজের ইংরেজি বিভাগের শিক্ষকদের নাম ও পদবী কী?",
      "উত্তর": "জনাব মোঃ মহিউদ্দিন মিত্রা (সহকারী অধ্যাপক), জনাবা কাজী জাকিয়া ফেরদৌসী (সহকারী অধ্যাপক), জনাবা আমিনা খাতুন ডায়না (প্রভাষক), জনাব সুমন মিয়া (প্রভাষক), জনাব মোঃ এহসানুল কবীর পলাশ (প্রভাষক)।"
    
    
      "প্রশ্ন": "গফরগাঁও সরকারি কলেজের রাষ্ট্রবিজ্ঞান বিভাগের শিক্ষকদের নাম ও পদবী কী?",
      "উত্তর": "জনাবা নাজমুন নাহার (সহকারী অধ্যাপক), জনাব মোঃ হান্নান সরকার (প্রভাষক)।"
    
    
      "প্রশ্ন": "গফরগাঁও সরকারি কলেজের অর্থনীতি বিভাগের শিক্ষকদের নাম ও পদবী কী?",
      "উত্তর": "জনাবা আমেনা চৌধুরী (সহকারী অধ্যাপক), জনাব মহসিন রেজা (প্রভাষক), জনাব খন্দকার সামিরুল ইসলাম সানি (প্রভাষক)।"
    
    
      "প্রশ্ন": "গফরগাঁও সরকারি কলেজের ইসলামের ইতিহাস ও সংস্কৃতি বিভাগের শিক্ষকের নাম ও পদবী কী?",
      "উত্তর": "জনাবা আসমা আক্তার (প্রভাষক)।"
    
    
      "প্রশ্ন": "গফরগাঁও সরকারি কলেজের ইসলামিক স্টাডিজ বিভাগের শিক্ষকদের নাম ও পদবী কী?",
      "উত্তর": "জনাব মুহা রুহুল আমিন (সহকারী অধ্যাপক), জনাব মারুফা খন্দকার (সহকারী অধ্যাপক), জনাব মোঃ শওকত আলী (প্রভাষক)।"
    
    
      "প্রশ্ন": "গফরগাঁও সরকারি কলেজের সমাজকর্ম বিভাগের শিক্ষকের নাম ও পদবী কী?",
      "উত্তর": "জনাব মোঃ আব্দুল মতিন (প্রভাষক)।"
    
    
      "প্রশ্ন": "গফরগাঁও সরকারি কলেজের মনোবিজ্ঞান বিভাগের শিক্ষকদের নাম ও পদবী কী?",
      "উত্তর": "জনাব মোঃ নাজমুল হুদা (সহকারী অধ্যাপক), জনাব মোঃ সোহেল আকন্দা (প্রভাষক), জনাবা মোছা জান্নাতুল ফেরদৌসী তমা (প্রভাষক)।"
    
  ]
  // --- নতুন ডেটা (বিস্তারিত_তথ্য) শেষ ---
};

const chatBox = document.getElementById('chatBox');
const userInput = document.getElementById('userInput');
const sendBtn = document.getElementById('sendBtn');


function displayMessage(text, isUser) {
    const messageDiv = document.createElement('div');
    messageDiv.classList.add('message');
    messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
    
    messageDiv.textContent = text; 
    
    chatBox.appendChild(messageDiv);
    chatBox.scrollTop = chatBox.scrollHeight;
}

// AI (নকল) উত্তর তৈরি করার ফাংশন
function getSmartResponse(userQuestion) {
    const lowerCaseQuestion = userQuestion.toLowerCase().trim();
    let response = "দুঃখিত, এই মুহূর্তে আমি এই নির্দিষ্ট প্রশ্নের উত্তর দিতে পারছি না। অনুগ্রহ করে গফরগাঁওয়ের প্রশাসন, ইতিহাস, শিক্ষা বা জরুরী সেবা সম্পর্কিত অন্য কোনো প্রশ্ন করুন।";

    // কীওয়ার্ড ভিত্তিক উত্তর খোঁজা
    for (const keyword in gafargaon_data) {
        if (lowerCaseQuestion.includes(keyword.toLowerCase())) {
            response = gafargaon_data[keyword];
            break;
        }
    }
    
    // সাধারণ ও জটিল প্রশ্নগুলোর হ্যান্ডলিং
    if (lowerCaseQuestion.includes("কিভাবে") && lowerCaseQuestion.includes("যাব")) {
        response = "আপনি রেলপথে (ঢাকা-দেওয়ানগঞ্জ লাইন) বা সড়কপথে গফরগাঁও আসতে পারেন। ঢাকা থেকে ট্রেন বা বাসে সরাসরি যাতায়াতের ব্যবস্থা রয়েছে।";
    } else if (lowerCaseQuestion.includes("জরুরী") || lowerCaseQuestion.includes("জরুরি সেবা")) {
         response = "জরুরী সেবার জন্য ৯৯৯ এ কল করুন। এছাড়া থানা (০১৩xxxxxxxx) এবং উপজেলা স্বাস্থ্য কমপ্লেক্সে (০১৭xxxxxxxx) যোগাযোগ করতে পারেন।";
    } else if (lowerCaseQuestion.includes("কখন")) {
        response = "আপনি কোন নির্দিষ্ট ঘটনা বা প্রতিষ্ঠানের সময় সম্পর্কে জানতে চাইছেন? দয়া করে নির্দিষ্ট করে বলুন।";
    } else if (lowerCaseQuestion.includes("কেমন লাগে")) {
        response = "গফরগাঁও সম্পর্কে জানতে পারা আমার কাছে খুবই ফলপ্রসূ। এটি সত্যিই একটি সমৃদ্ধ জনপদ।";
    }

    // একটি ছোট্ট বিলম্বের পর উত্তর দেখাবে (যেন রিয়েল AI-এর মতো লাগে)
    setTimeout(() => {
        displayMessage(response, false);
    }, 800);
}

function sendMessage() {
    const question = userInput.value.trim();
    if (question === "") return;

    displayMessage(question, true);
    userInput.value = "";
    getSmartResponse(question);
}

// বোতাম ক্লিক এবং এন্টার চাপলে বার্তা পাঠানোর ব্যবস্থা
sendBtn.addEventListener('click', sendMessage);
userInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        sendMessage();
    }
});
